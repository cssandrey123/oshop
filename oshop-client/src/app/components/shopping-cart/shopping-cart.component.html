<div class="text-center">
    <h1 >Shopping Cart</h1>
</div>
<div class="row justify-content-center" *ngIf = "cart$ | async as cart">
    <div class="col-10">
        <h2>
            You have {{ cart.totalItemsCount }} items in your shopping cart
        </h2>
    
        <table class="table">
            <thead>
                <tr>
                    <th></th>
                    <th>Product</th>
                    <th class="text-center" >Quantity</th>
                    <th class="text-right" >Price</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor = "let item of cart.items">
                    <td>
                        <div class="thumbmail" [style.backgroundImage]="'url(' + item.imageUrl + ')'" alt=""> </div>
                    </td>
                    <td>
                        {{item.title}}
                    </td>
                    <td>
                        <app-product-quantity [shopping-cart]="cart" [product]="item"></app-product-quantity>
                    </td>
                    <td class="text-right">
                        {{item.totalPrice | currency:"USD":true}}
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th class="text-right"> {{ cart.totalPrice | currency:"USD":true }}</th>
                </tr>
            </tfoot>
        </table>
        <div class="row">
            <div class="col">
                <a 
                *ngIf = "cart.items.length"
                [routerLink] = "['/check-out']"
                class="btn btn-primary">Check Out</a>
            </div>
            <div class="col d-flex justify-content-end">
                <button
                *ngIf = "cart.items.length" 
                (click)="clearCart()"
                class="btn btn-danger">Clear Shopping Cart</button>
            </div>
        </div>
        
       
    </div>  
</div>

